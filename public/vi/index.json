[
{
	"uri": "//localhost:1313/vi/1-preparation/",
	"title": "Chuẩn bị",
	"tags": [],
	"description": "",
	"content": "Trước khi chúng ta đi vào nội dung chính của workshop này, chúng ta cần phải đặt lại ứng dụng web.\nTải xuống mã nguồn dưới đây.\nSource code\rfcj-book-store-sam-ws7.zip\r(48794 ko)\rTải mã nguồn FCJ-Serverless-Workshop về thiết bị của bạn.\nMở một terminal trên máy tính của bạn trong thư mục nơi bạn muốn lưu mã nguồn.\nSao chép lệnh dưới đây.\ngit clone https://github.com/AWS-First-Cloud-Journey/FCJ-Serverless-Workshop.git "
},
{
	"uri": "//localhost:1313/vi/",
	"title": "Serverless - CI/CD với CodePipeline",
	"tags": [],
	"description": "",
	"content": "Serverless - CI/CD với CodePipeline Tổng quan Continuous Integration, Continuous Delivery, Continuous Deployment (CI/CD) là các phương pháp phát triển phần mềm để sản xuất phần mềm trong các chu kỳ ngắn giữa hợp nhất thay đổi mã nguồn và cập nhật ứng dụng. Mục tiêu cuối của các phương pháp này là giảm chi phí, thời gian và rủi ro bằng cách phân phối phần mềm thành các phần nhỏ.\nTrong bài số 7 của series này, chúng ta sẽ tìm hiểu về cách xây dựng luồng CI/CD để mỗi khi bạn thay đổi source của ứng dụng và đưa lên git repository, nó sẽ được tự động cập nhật lại các dịch vụ và ứng dụng của chúng ta. Có rất nhiều tool để ta xây dựng CI/CD, phổ biến nhất là Jenkins, Gitlab CI, Circle CI. Trong bài này chúng ta sẽ sử dụng CodePipeline của AWS.\nKiến trúc CI/CD cho back-end: Nhà phát triển tạo một git repo trên Gitlab và đưa code của SAM project lên đó Mỗi khi source code được cập nhật, CodeBuild sẽ tự động build lại và chuẩn bị CloudFormation template CloudFormation tạo/cập nhật các dịch vụ không máy chủ Kiến trúc CI/CD cho front-end của web:\nNhà phát triển tạo một git repo trên Gitlab và đưa front-end code lên đó Mỗi khi source code được cập nhật, CodeBuild sẽ tự động build lại sau đó đóng gói thư mục build Cuối cùng thư mục build được đẩy vào S3 bucket với static hosting website đã được kích hoạt CI/CD CI Continuous Integration là một phương pháp phát triển phần mềm mà trong đó các nhà phát triển thường xuyên commit và push các thay đổi lên các shared repository. Bằng cách nạp và hợp nhất các thay đổi từ nhiều nhà phát triển khác nhau, vì vậy giảm thiểu nguy cơ xung đột. Trước mỗi lần commit, các nhà phát triển có thể chạy các unit test trên mã nguồn như một kiểm tra bổ sung trước khi tích hợp. Một continuous integration tự động build và chạy các bài kiểm tra trên các mã nguồn thay đổi để phát hiện bất kỳ lỗi nào ngay lập tức.\nCD Continuous Delivery là một phương pháp phát triển phần mềm mở rộng Continuous Integration trong đó mã nguồn được tự động chuẩn bị để triển khai cho một production instance. Sau khi build, build artifact với các thay đổi mới được triển khai cho một staging instance nơi chạy các bài kiểm tra nâng cao (integration, acceptance, load, end-to-end, etc.). Nếu cần, build artifact tự động được triển khai tới production instance sau khi được duyệt thủ công\nContinuous Delivery là một phương pháp phát triển phần mềm mở rộng Continuous Delivery trong đó các thay đổi mã nguồn được triển khai tự động đến một production instance. Sự khác biệt giữa Continuous Delivery và Continuous Deployment ở bước kiểm duyệt thủ công. Với Continuous Delivery, việc triển khai diễn ra tự động sau khi kiểm duyệt thủ công. Với Continuous Delivery, việc triển khai diễn ra tự động mà không cần phê duyệt thủ công.\nNội dung Chuẩn bị Xây dựng SAM pipeline Xây dụng pipeline cho frontend Kiểm tra hoạt động Dọn dẹp tài nguyên "
},
{
	"uri": "//localhost:1313/vi/2-build-sam-pipeline/2-1-create-git-repo/",
	"title": "Tạo kho Git",
	"tags": [],
	"description": "",
	"content": " Mở bảng điều khiển Gitlab của bạn.\nNhấp vào Projects trên menu bên trái. Chọn tùy chọn Create a project. Tại trang Create new project, chọn tùy chọn Create blank project. Tại trang Create blank project. Nhập fcj-book-store-backend tại Project name. Bỏ chọn Initialize repository with a README. Nhấp vào nút Create project. Cấu hình khóa SSH để giao tiếp với Gitlab.\nLàm theo tài liệu trong Notes để hoàn thành bước này. Tạo cặp khóa SSH.\nCấu hình SSH để trỏ đến thư mục khác.\nĐọc thêm về Sử dụng khóa SSH để giao tiếp với GitLab.\nTải mã nguồn lên dự án fcj-book-store-backend trên Gitlab.\nMở terminal của bạn và đi đến thư mục gốc của dự án fcj-book-store-sam-ws7 mà bạn đã tải xuống trước đó.\nChạy mã dưới đây.\ngit init git remote add origin git@gitlab.com:fcj-ws/fcj-book-store-backend.git git add . git commit -m \u0026#34;Init project\u0026#34; git push --set-upstream origin master Quay lại dự án fcj-book-store-backend trên Gitlab. Bạn có thể thấy mã đã được tải lên. "
},
{
	"uri": "//localhost:1313/vi/3-build-frontend-pipeline/3-1-create-git-repo/",
	"title": "Tạo kho Git",
	"tags": [],
	"description": "",
	"content": " Mở bảng điều khiển Gitlab của bạn.\nNhấp vào Projects trên menu bên trái. Nhấp vào nút New project. Tại trang Create new project, chọn tùy chọn Create blank project. Tại trang Create blank project. Nhập fcj-book-store-frontend tại Project name. Bỏ chọn Initialize repository with a README. Nhấp vào nút Create project. Cấu hình khóa SSH để giao tiếp với Gitlab.\nLàm theo tài liệu trong Notes để hoàn thành bước này. Tạo cặp khóa SSH.\nCấu hình SSH để trỏ đến thư mục khác.\nĐọc thêm về Sử dụng khóa SSH để giao tiếp với GitLab.\nTải mã nguồn lên dự án fcj-book-store-frontend trên Gitlab.\nĐi đến thư mục gốc của dự án FCJ-Serverless-Workshop mà bạn đã tải xuống trước đó.\nMở src/config.js, thay đổi giá trị của APP_API_URL thành giá trị của ApiUrl mà bạn đã ghi lại trong bước Tạo pipeline SAM, trong trường hợp này là https://zr0i1ihy24.execute-api.us-east-1.amazonaws.com/staging. Tiếp theo, tạo một tệp mới có tên buildspec.yml tại thư mục gốc của dự án FCJ-Serverless-Workshop như mã sau.\nversion: 0.2 phases: install: runtime-versions: nodejs: 20.9.0 commands: - npm install -g yarn pre_build: commands: - echo Removing lock files... - rm -f package-lock.json - rm -f yarn.lock build: commands: - echo Build started on `date` - yarn install - yarn build artifacts: base-directory: build files: - \u0026#34;**/*\u0026#34; discard-paths: no Chạy mã dưới đây trong terminal của bạn tại thư mục gốc của dự án FCJ-Serverless-Workshop.\nrm -rf .git git init git remote add origin git@gitlab.com:fcj-ws/fcj-book-store-frontend.git git add . git commit -m \u0026#34;Init project\u0026#34; git push --set-upstream origin master Quay lại dự án fcj-book-store-frontend trên Gitlab. Bạn có thể thấy mã đã được tải lên. "
},
{
	"uri": "//localhost:1313/vi/3-build-frontend-pipeline/3-2-create-codepipeline/",
	"title": "Tạo pipeline",
	"tags": [],
	"description": "",
	"content": "Tạo pipeline Mở AWS CodePipeline console.\nNhấp vào Pipelines trên menu bên trái. Nhấp vào nút Create pipeline. Tại trang Step 1: Choose creation option.\nChọn Build custom pipeline tại Creation options. Sau đó nhấp vào nút Next. Tại trang Step 2: Choose pipeline settings.\nNhập fcjBookStoreFEPipeline tại Pipeline name. Chọn Queued tại Execution mode. Chọn New service role tại Service role. Nhập AWSCodePipelineServiceRole-us-east-1-fcjBookStoreFEPipeline tại Role name. Nhấp vào nút Next. Tại trang Step 3: Add source stage.\nChọn Gitlab tại Source provider. Chọn fcjBookStoreGitlabConnection tại Connection. Cuộn xuống, nhập fcj-ws/fcj-book-store-frontend tại Repository name. Nhập master tại Default branch. Nhấp vào nút Next. Tại trang Step 4: Add build stage.\nChọn Other build providers tại Build provider. Chọn AWS CodeBuild. Nhập fcjBookStoreBuildProject tại Project name. Nhấp vào nút Next. Tại trang Step 5: Add test stage.\nNhấp vào nút Skip test stage. Tại trang Step 6: Add deploy stage.\nChọn Amazon S3 tại Deploy provider. Chọn BuildArtifact tại Input artifacts. Nhập fcj-book-shop-by-myself tại Bucket. Chọn Extract file before deploy. Để mặc định và nhấp vào nút Next. Tại trang Step 7: Review.\nCuộn xuống và nhấp vào nút Create pipeline. Kiểm tra pipeline Mở AWS CodePipeline console.\nNhấp vào Pipelines trên menu bên trái. Kiểm tra xem trạng thái của fcjBookStoreFEPipeline có phải là Succeeded không. Mở Amazon S3 console.\nNhấp vào General purpose buckets trên menu bên trái. Chọn bucket fcj-book-shop-by-myself. Tại trang fcj-book-shop-by-myself, cuộn xuống và sao chép url Bucket website endpoint. Nhập liên kết đã sao chép vào tab mới trong trình duyệt web của bạn. "
},
{
	"uri": "//localhost:1313/vi/2-build-sam-pipeline/2-2-create-pipeline/",
	"title": "Tạo SAM pipeline",
	"tags": [],
	"description": "",
	"content": "Chuẩn bị Trong bước này, chúng ta sẽ tạo các vai trò IAM cho CodePipeline - Giai đoạn triển khai và CodeBuild.\nCảnh báo Vai trò được cấu hình với bảo mật tối thiểu, chỉ phù hợp cho môi trường workshop.\nTạo vai trò CodePipeline - Giai đoạn triển khai.\nMở AWS IAM console, sau đó nhấp vào Roles trên menu bên trái. Nhấp vào nút Create role. Tại trang Step 1: Select trusted entity. Chọn AWS service tại Trusted entity type. Nhập CloudFormation tại Service or use case và chọn CloudFormation tại Use case. Sau đó nhấp vào nút Next. Tại trang Step 2: Add permissions. Nhập AdministratorAccess tại hộp Search. Chọn chính sách AdministratorAccess. Sau đó nhấp vào nút Next. Tại trang Step 3: Name, review, and create. Nhập fcjCodePipelineDeployStageRole tại Role name. Cuộn xuống và nhấp vào nút Create role. Tạo vai trò CodeBuild.\nMở AWS IAM console, sau đó nhấp vào Roles trên menu bên trái. Nhấp vào nút Create role. Tại trang Step 1: Select trusted entity. Chọn AWS service tại Trusted entity type. Nhập CodeBuild tại Service or use case và chọn CodeBuild tại Use case. Sau đó nhấp vào nút Next. Tại trang Step 2: Add permissions. Nhập AdministratorAccess tại hộp Search. Chọn chính sách AdministratorAccess. Sau đó nhấp vào nút Next. Tại trang Step 3: Name, review, and create. Nhập fcjCodeBuildRole tại Role name. Cuộn xuống và nhấp vào nút Create role. Tạo pipeline Mở AWS CodePipeline console.\nNhấp vào Pipelines trên menu bên trái. Nhấp vào nút Create pipeline. Tại trang Step 1: Choose creation option.\nChọn Build custom pipeline tại Creation options. Sau đó nhấp vào nút Next. Tại trang Step 2: Choose pipeline settings.\nNhập fcjBookStorePipeline tại Pipeline name. Chọn Queued tại Execution mode. Chọn New service role tại Service role. Nhập AWSCodePipelineServiceRole-us-east-1-fcjBookStorePipeline tại Role name. Nhấp vào nút Next. Tại trang Step 3: Add source stage.\nChọn Gitlab tại Source provider. Nhấp vào nút Connect to Gitlab. Tại trang Create a connection ở tab trình duyệt mới vừa mở. Nhập fcjBookStoreGitlabConnection tại Connection name. Nhấp vào nút Connect to Gitlab. Sau khi đăng nhập thành công vào Gitlab, nhấp vào nút Connect. Kiểm tra xem kết nối Gitlab có thành công không. Nhập fcj-ws/fcj-book-store-backend tại Repository name. Nhập master tại Default branch. Cuộn xuống cuối trang và nhấp vào nút Next. Tại trang Step 4: Add build stage.\nChọn Other build providers tại Build provider. Chọn AWS CodeBuild. Nhấp vào nút Create project. Tại trang Create build project ở tab trình duyệt mới vừa mở. Nhập fcjBookStoreBuildProject tại Project name. Cuộn xuống, chọn Ubuntu tại Operating system. Chọn Existing service role tại Service role. Chọn fcjCodeBuildRole tại Role ARN. Cuộn xuống cuối trang, chọn Use a buildspec file tại Build specifications. Nhấp vào nút Continue to CodePipeline. Chọn fcjBookStoreBuildProject tại Project name. Để mặc định và nhấp vào nút Next. Tại trang Step 5: Add test stage.\nNhấp vào nút Skip test stage. Tại trang Step 6: Add deploy stage.\nChọn AWS CloudFormation tại Deploy provider. Chọn BuildArtifact tại Input artifacts. Chọn Create or update a stack tại Action mode. Nhập fcj-book-store tại Stack name. Cuộn xuống, chọn BuildArtifact tại Artifact name. Nhập packaged.yaml tại File name. Chọn CAPABILITY_IAM, CAPABILITY_NAMED_IAM và CAPABILITY_AUTO_EXPAND tại Capabilities - optional. Chọn fcjCodePipelineDeployStageRole tại Role name. Nhấp vào nút Next. Tại trang Step 7: Review.\nCuộn xuống và nhấp vào nút Create pipeline. Kiểm tra pipeline Mở AWS CodePipeline console.\nNhấp vào Pipelines trên menu bên trái. Chọn pipeline fcjBookStorePipeline. Tại trang fcjBookStorePipeline.\nCuộn xuống cuối trang, nhấp vào nút View details. Tại trang fcjBookStorePipeline - Deploy stage.\nChọn tab Output và ghi lại ApiUrl. "
},
{
	"uri": "//localhost:1313/vi/2-build-sam-pipeline/",
	"title": "Xây dựng pipeline SAM",
	"tags": [],
	"description": "",
	"content": "Trong chương này, bạn sẽ học cách tự động hóa các lệnh build, package và deploy bằng cách tạo một pipeline phân phối liên tục sử dụng AWS Code Pipeline. Chúng ta sẽ sử dụng SAM Pipelines để tạo và cập nhật tự động một pipeline CI/CD đa giai đoạn.\nAWS SAM Pipelines SAM Pipelines hoạt động bằng cách tạo một tập hợp các tệp cấu hình và hạ tầng mà bạn sử dụng để tạo và quản lý pipeline CI/CD của mình.\nTính đến thời điểm viết bài này, SAM Pipelines có thể bootstrap các pipeline CI/CD cho các nhà cung cấp sau:\nJenkins GitLab CI/CD GitHub Actions Bitbucket Pipelines AWS CodePipeline SAM Pipelines tạo các tệp cấu hình phù hợp cho nhà cung cấp CI/CD mà bạn chọn. Ví dụ, khi sử dụng Gitlab CI/CD, SAM sẽ tổng hợp một tệp .gitlab-ci.yml. Tệp này định nghĩa pipeline CI/CD của bạn sử dụng Gitlab CI/CD. Trong workshop này, chúng ta sẽ sử dụng AWS CodePipeline. Như bạn sẽ thấy sớm, SAM tạo nhiều tệp, một trong số đó là một mẫu CloudFormation có tên codepipeline.yaml. Mẫu này định nghĩa nhiều tài nguyên AWS làm việc cùng nhau để tự động triển khai ứng dụng serverless của chúng ta.\nNội dung Tạo kho Git Tạo pipeline SAM "
},
{
	"uri": "//localhost:1313/vi/3-build-frontend-pipeline/",
	"title": "Xây dựng pipeline cho front-end",
	"tags": [],
	"description": "",
	"content": "Trong chương này, chúng ta sẽ tạo một pipeline mới với AWS CodePipeline bằng console cho ứng dụng trang đơn S3. Sử dụng kho Gitlab để lưu mã nguồn, CodeBuild để build ứng dụng và S3 để triển khai ứng dụng.\nNội dung Tạo kho Git Tạo pipeline "
},
{
	"uri": "//localhost:1313/vi/4-test-operation/",
	"title": "Kiểm tra hoạt động web",
	"tags": [],
	"description": "",
	"content": "Chuẩn bị Mở Amazon Cognito console.\nNhấp vào User pools trên menu bên trái. Chọn tên User pool fcj-user-pool. Tại trang Overview: fcj-user-pool.\nNhấp vào App clients trên menu bên trái. Chọn tên App client fcj-user-pool-client. Tại trang App client: fcj-user-pool-client.\nGhi lại giá trị của Client ID và Client secret. Đi đến thư mục gốc của dự án fcj-book-store-sam-ws7 mà bạn đã tải xuống trước đó.\nMở tệp template.yml tại thư mục gốc và thay đổi giá trị của cognitoClientID và cognitoClientSecret bằng giá trị bạn đã ghi lại ở bước trước.\ncognitoClientID: Type: String Default: 5fvkqik6cd87mqrfa7m3qg46j0 # Your Client ID cognitoClientSecret: Type: String Default: smz277rcfj11eal321ffbnh59kw # Your Client secret Mở terminal của bạn tại thư mục gốc của dự án fcj-book-store-sam-ws7 và chạy mã sau.\ngit add . git commit -m \u0026#34;Change the value of Client ID and Client secret\u0026#34; git push Mở AWS CodePipeline console.\nNhấp vào Pipelines trên menu bên trái. Kiểm tra xem trạng thái của fcjBookStorePipeline có phải là Succeeded không. Kiểm tra hoạt động web Bạn có thể tải xuống các tệp hình ảnh tại đây để thêm dữ liệu kiểm tra hoạt động của các dịch vụ\nImages\rPythonCoding.jpeg\r(1095 ko)\rTại tab trong trình duyệt web của bạn từ bước trước, nhấp vào nút Register ở góc trên bên phải của màn hình. Tại trang FCJ Book Store - Register.\nNhập thông tin để đăng ký tài khoản: email, mật khẩu và xác nhận lại mật khẩu. Nhấp vào nút Register. Mở email bạn đã đăng ký, sau đó tìm tin nhắn từ no-reply@verificationemail.com để lấy mã xác minh. Quay lại trang Verify Email.\nNhập mã xác minh tại Verify code. Nhấp vào nút Submit. Tại trang FCJ Book Store - Login.\nNhập thông tin tài khoản của bạn: Email và Mật khẩu để đăng nhập. Nhấp vào nút Submit. Vậy là chúng ta đã đăng ký và đăng nhập thành công. Tiếp theo, chúng ta sẽ kiểm tra chức năng thêm sách mới.\nNhấp vào tab Create new book. Nhập ID: 1. Nhập tên sách: Python Coding. Nhập tác giả: Doan Minh Phung. Nhập thể loại: IT. Nhập giá: 5.6. Nhập mô tả: Hướng dẫn cơ bản về Python trong các dự án thực tế. Nhấp vào Choose File và chọn PythonCoding.jpeg đã tải xuống. Nhấp vào nút Create. Sau đó nhấp vào nút OK. Quay lại trang chủ, chúng ta có thể thấy một cuốn sách mới đã được thêm vào cơ sở dữ liệu. Chúng ta đã hoàn thành workshop, đã biết cách tạo pipeline SAM và pipeline sử dụng console. Workshop tiếp theo chúng ta sẽ học về gỡ lỗi, giám sát AWS Lambda với AWS CloudWatch và AWS X-ray.\n"
},
{
	"uri": "//localhost:1313/vi/5-cleanup/",
	"title": "Dọn dẹp",
	"tags": [],
	"description": "",
	"content": "\rSẽ mất một chút thời gian để hoàn thành việc dọn dẹp\nLàm trống S3 bucket.\nMở AWS S3 console. Chọn fcj-book-shop-by-myself. Nhấp vào Empty. Nhập permanently delete. Nhấp vào Empty. Làm tương tự cho các bucket bắt đầu bằng aws-sam-cli-managed-default-, book-image-resize-shop-by-myself và codepipeline-us-east-1-. Xóa pipeline.\nMở AWS CodePipeline console. Chọn pipeline fcjBookStoreFEPipeline. Nhấp vào Delete pipeline. Nhập delete. Nhấp vào Delete. Làm tương tự cho fcjBookStorePipeline. Xóa dự án CodeBuild.\nMở AWS CodeBuild console. Chọn dự án Build fcjBookStoreBuildProject. Nhấp vào Actions, sau đó nhấp vào Delete. Nhập delete. Nhấp vào Delete. Xóa kết nối giữa Gitlab và AWS.\nMở AWS CodeBuild console. Nhấp vào Settings trên menu bên trái và nhấp vào Connections trong dropdown. Chọn fcjBookStoreGitlabConnection. Nhấp vào Delete. Nhập delete. Nhấp vào Delete. Xóa các stack CloudFormation.\nThực hiện lệnh dưới đây để xóa ứng dụng AWS SAM.\nsam delete --stack-name fcj-book-store sam delete --stack-name aws-sam-cli-managed-default Nếu bạn gặp vấn đề khi xóa bằng lệnh. Mở AWS Cloudformation console. Sau đó, xóa tất cả các stack liên quan đến workshop này.\nXóa bucket codepipeline-us-east-1-\u0026hellip;.\nMở AWS S3 console. Chọn codepipeline-us-east-1-\u0026hellip;. Nhấp vào Delete. Nhập codepipeline-us-east-1-.... Nhấp vào Delete bucket. Xóa kho Git. Làm theo tài liệu này: Xóa dự án Gitlab.\n"
},
{
	"uri": "//localhost:1313/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "//localhost:1313/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]